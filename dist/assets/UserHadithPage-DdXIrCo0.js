import{j as e,H as v,as as P,R as C,i as S,L,ar as R}from"./index-BFNaB8rX.js";import{r as s}from"./charts-vendor-DhOxG2_S.js";import"./react-vendor-Bzgz95E1.js";const z=[{name:"Sahih Bukhari",slug:"ind-bukhari"},{name:"Sahih Muslim",slug:"ind-muslim"},{name:"Sunan Abu Dawud",slug:"ind-abudawud"},{name:"Jami at-Tirmidhi",slug:"ind-tirmidhi"},{name:"Sunan an-Nasa'i",slug:"ind-nasai"},{name:"Sunan Ibn Majah",slug:"ind-ibnmajah"}],D={"ind-bukhari":"ara-bukhari","ind-muslim":"ara-muslim","ind-abudawud":"ara-abudawud","ind-tirmidhi":"ara-tirmidhi","ind-nasai":"ara-nasai","ind-ibnmajah":"ara-ibnmajah"},c=30,O=({onBack:i})=>{const[l,f]=s.useState(null),[d,p]=s.useState([]),[g,b]=s.useState(!1),[o,x]=s.useState(null),[t,j]=s.useState(""),[h,m]=s.useState(c);s.useEffect(()=>{if(!l)return;(async()=>{b(!0),x(null);try{const n=l.slug,y=D[n];if(!y)throw new Error("Koleksi hadis Arab yang sesuai tidak ditemukan.");const[k,w]=await Promise.all([fetch(`https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/editions/${n}.json`),fetch(`https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/editions/${y}.json`)]);if(!k.ok||!w.ok)throw new Error("Gagal memuat data hadis. Silakan coba lagi.");const T=await k.json(),M=await w.json(),E=new Map(M.hadiths.map(r=>[r.hadithnumber,r.text])),_=T.hadiths.map(r=>({...r,arabicText:E.get(r.hadithnumber)||"Teks Arab tidak ditemukan."}));p(_)}catch(n){x(n instanceof Error?n.message:"Terjadi kesalahan tidak terduga.")}finally{b(!1)}})()},[l]);const u=s.useMemo(()=>t?d.filter(a=>a.text.toLowerCase().includes(t.toLowerCase())||a.arabicText.toLowerCase().includes(t.toLowerCase())||`no. ${a.hadithnumber}`.includes(t.toLowerCase())):d,[d,t]);s.useEffect(()=>{m(c)},[t]);const N=s.useMemo(()=>u.slice(0,h),[u,h]),H=()=>{m(a=>a+c)},A=()=>{f(null),p([]),j(""),x(null),m(c)};if(l)return e.jsxs("div",{className:"bg-gray-100 min-h-screen font-sans flex flex-col",children:[e.jsxs("header",{className:"bg-dark-teal text-white p-4 flex justify-between items-center sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"w-7 h-7"}),e.jsx("h1",{className:"text-xl font-semibold truncate",title:l.name,children:l.name})]}),e.jsxs("button",{onClick:A,className:"flex items-center space-x-1 hover:bg-white/10 p-2 rounded-md flex-shrink-0",children:[e.jsx(P,{className:"w-6 h-6"}),e.jsx("span",{className:"text-sm hidden sm:inline",children:"Kembali"})]})]}),e.jsx("div",{className:"sticky top-[72px] z-10 bg-gray-100 px-4 pt-4 pb-2",children:e.jsx("input",{type:"text",placeholder:"Cari hadis (nomor, teks, atau arab)...",value:t,onChange:a=>j(a.target.value),className:"w-full px-4 py-3 text-gray-700 bg-white border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-dark-teal","aria-label":"Search Hadith"})}),e.jsxs("main",{className:"flex-grow px-4 pb-24",children:[g&&e.jsx("p",{className:"text-center text-gray-600 py-8",children:"Memuat hadis..."}),o&&e.jsx("p",{className:"text-center text-red-500 py-8",children:o}),!g&&!o&&e.jsxs("div",{className:"space-y-4",children:[N.length>0?N.map(a=>e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200",children:[e.jsxs("p",{className:"font-bold text-dark-teal mb-2",children:["Hadis No. ",a.hadithnumber]}),e.jsx("p",{className:"text-right text-2xl leading-loose mb-4",dir:"rtl",style:{fontFamily:"Amiri, serif"},children:a.arabicText}),e.jsx("p",{className:"text-gray-700 leading-relaxed text-justify",children:a.text})]},a.hadithnumber)):e.jsx("p",{className:"text-center text-gray-500 py-8",children:t?"Tidak ada hadis yang cocok.":"Tidak ada hadis untuk ditampilkan."}),u.length>h&&e.jsx("div",{className:"text-center mt-6",children:e.jsx("button",{onClick:H,className:"bg-dark-teal text-white font-semibold py-2 px-6 rounded-full hover:bg-opacity-90 transition-colors",children:"Muat Lebih Banyak"})})]})]}),e.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-[0_-2px_5px_rgba(0,0,0,0.1)] rounded-t-2xl",children:e.jsxs("div",{className:"flex justify-around items-center p-2",children:[e.jsxs("button",{onClick:i,className:"flex flex-col items-center text-gray-500 hover:text-dark-teal transition-colors space-y-1",children:[e.jsx(C,{className:"w-7 h-7"}),e.jsx("span",{className:"text-xs",children:"Live Streaming"})]}),e.jsxs("button",{onClick:i,className:"flex flex-col items-center text-gray-500 hover:text-dark-teal transition-colors space-y-1",children:[e.jsx(S,{className:"w-7 h-7"}),e.jsx("span",{className:"text-xs",children:"Home"})]}),e.jsxs("button",{onClick:i,className:"flex flex-col items-center text-gray-500 hover:text-dark-teal transition-colors space-y-1",children:[e.jsx(L,{className:"w-7 h-7"}),e.jsx("span",{className:"text-xs",children:"Keluar"})]})]})}),e.jsx("style",{children:`
                    @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap');
                `})]});const I=({collection:a})=>e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("button",{onClick:()=>f(a),className:"w-full h-32 bg-white rounded-md flex-shrink-0 flex flex-col items-center justify-center text-center text-xs text-gray-600 p-1 border-2 border-black hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-dark-teal","aria-label":`Pilih ${a.name}`,children:e.jsx(R,{className:"w-12 h-12 text-dark-teal"})}),e.jsx("h3",{className:"text-sm font-semibold text-dark-teal text-center w-full",children:a.name})]});return e.jsxs("div",{className:"bg-dark-teal min-h-screen font-sans flex flex-col",children:[e.jsx("header",{className:"bg-dark-teal text-white p-4 flex items-center sticky top-0 z-10",children:e.jsx("div",{className:"w-10 h-10 bg-white rounded-md flex items-center justify-center",children:e.jsx(v,{className:"w-8 h-8 text-dark-teal"})})}),e.jsx("div",{className:"flex-grow bg-white rounded-t-3xl pt-6",children:e.jsxs("main",{className:"px-4 space-y-4 pb-24",children:[e.jsx("h2",{className:"text-lg font-bold text-dark-teal",children:"KUMPULAN HADIST"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pilih kitab hadis untuk dibaca dan dicari."}),e.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-6 pt-4",children:z.map(a=>e.jsx(I,{collection:a},a.slug))})]})}),e.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-[0_-2px_5px_rgba(0,0,0,0.1)] rounded-t-2xl",children:e.jsxs("div",{className:"flex justify-around items-center p-2",children:[e.jsxs("button",{onClick:i,className:"flex flex-col items-center text-gray-500 hover:text-dark-teal transition-colors space-y-1",children:[e.jsx(C,{className:"w-7 h-7"}),e.jsx("span",{className:"text-xs",children:"Live Streaming"})]}),e.jsxs("button",{onClick:i,className:"flex flex-col items-center text-dark-teal transition-colors space-y-1",children:[e.jsx(S,{className:"w-7 h-7"}),e.jsx("span",{className:"text-xs font-bold",children:"Home"})]}),e.jsxs("button",{onClick:i,className:"flex flex-col items-center text-gray-500 hover:text-dark-teal transition-colors space-y-1",children:[e.jsx(L,{className:"w-7 h-7"}),e.jsx("span",{className:"text-xs",children:"Keluar"})]})]})})]})};export{O as default};
